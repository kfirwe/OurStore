<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile</title>

    <!--Custom page CSS-->
    <link rel="stylesheet" href="/profile.css">
    <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    rel="stylesheet"
    />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS (Optional) -->
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
    />

</head>
<style>
    .insight{
        text-align: center;
        margin-bottom: 15px;
    }
    .insight h4{
        display: inline-block; 
        background-color:  rgb(164, 193, 231); 
        border-radius: 5px; 
        padding: 2px;
    }
    .ourTeam img{
        height: 200px;
        border-radius: 50%;
        margin-left: 10px;
        margin-bottom: 15px;
        box-shadow: 2px 2px 5px 0px rgb(93, 91, 91);
    }
    .information h1{
        text-align: center;
    }
    .information{
        margin-bottom: 5px;
    }
    body {
        font-family: 'Merriweather', serif;
    }

    h1, h2, h3, h4, h5, h6 {
        font-family: 'Roboto', sans-serif;
        font-weight: bold;
    }

    .aboutUs{
        font-size: 20px;
        margin-left: 15px;
    }

</style>
<body>
    <!--Navigation Bar-->
    <header>
        <nav class="headerNav navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand d-flex align-items-center" href="/">
                    <img src="/ByAThread.webp" alt="Logo" />
                    By A Thread
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="/homePage">
                                <i class="fas fa-home fa-lg"></i> Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/">
                                <i class="fas fa-flag fa-lg"></i> Landing Page
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="/about">
                                <i class="fas fa-info-circle fa-lg"></i> About
                            </a>
                        </li>
                        <li class="nav-item position-relative">
                            <a class="nav-link" href="/cart" onclick="redirectToLoginIfNotLoggedIn()">
                                <i class="fas fa-shopping-cart fa-lg"></i> Cart
                                <!-- <% if (cartItemCount) { %> -->
                                <% if (cartItemCount > 0) { %>
                                <span class="badge badge-danger cart-badge"><%= cartItemCount %></span>
                                <% } %>
                                <!-- <% } %> -->
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="redirectToProfile()">
                                <i class="fas fa-user fa-lg"></i> Profile
                            </a>
                        </li>
                        <% if (!username) { %>
                        <li class="nav-item">
                            <a class="nav-link" href="/login">
                                <i class="fas fa-sign-in-alt fa-lg"></i> Login
                            </a>
                        </li>
                        <% } else { %>
                        <li class="nav-item">
                            <a class="nav-link" href="javascript:void(0);" onclick="handleLogout()">
                                <i class="fas fa-sign-out-alt fa-lg"></i> Logout
                            </a>
                        </li>
                        <% } %>
                        <% if (isAdmin) { %>
                        <li class="nav-item">
                            <a class="nav-link" onclick="renderAdminPage()">
                                <i class="fas fa-tools fa-lg"></i> Admin tools
                            </a>
                        </li>
                        <% } %>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <!--Profile page objects-->  
    </br>
    <div class="aboutUs">
        <div class="information row">
            <h1>About Us üíô </h1>
            <div class="col-sm-3">
                <img src="/logo.png">
            </div>
            <div class="col-sm-9">
                </br></br>
                <h3>Weaving Style and Technology Together</h3>

                <h4>In By A Thread, we are working our hardest to bring you the most cutting edge clothing.</h4>
                <h4>Each designed to make you feel like the best version of yourself.</h4>
                <h6>No need to wait any longer, No need to look further - By A Thread will present you with what you did not even relise you need.</h6>
            </div>
        </div>
        <div class="row">
            <div class="insight">
                <h4>Fast Delivery</h4>
                <p>No need to delay your satisfaction, buy today and wear tommorow.</p>

                <h4>Wide Vareity</h4>
                <p>New products from all around the globe and from a vareity of companies.</p>

                <h4>Sustainability</h4>
                <p>We care about our environment and for that reason we are trying to influence the environment for the better</p>
                <p>By making sure our clothes can last you a long time and using high quality sustainable metirials.</p>

                <h4>High Quality</h4>
                <p>All of our clothes are made from high quality materials ensuring they can be worn for a long time.</p>
                <p>Apart from the metirials the designs are made to compliment all different sizes and uses - to work, to travel, to excersize and what else you desire</p>
                
                <h4>And most importantly we care about you! we want you to feel like the most confident version of yourself and leave our site with a taste for more!</h4>
            </div>
            <div class="ourTeam">
                <h2>Our Team üë®‚Äçüë©‚Äçüëß‚Äçüëß</h2>
                <img src="roy.jpg">
                <img src="ofek.jpg">
                <img src="kfir.jpg">
                <img src="amit.jpg">
                <h4>By A Thread was established in 2024 by Roy Edri, Ofek Naim, Kfir weissman and Amit Avisar</h4>
                <p>All of the site's founders are computer science undergraduates who established this site in persuit of their passion to elevate people to be the best version of themselves inside and out.</p>
                <p>Our agenda is to provide people with joy by making their closets more fun and vibrant in addition to allowing them to express themself by their clothes and feel more confident.</p>
                <p>We hope that you will leave our site feeling better than you came in, every descision made in designing this site was made to make your expirience more enjoyable</p>

            </div>
        </div>    
    </div>
    <!--Add footer-->
    <%- include("_footer") %>
</body>
<script>
    // Logout function
    function handleLogout() {
        fetch('/logout', {
            method: 'GET',
            credentials: 'same-origin'
        })
            .then(response => {
                if (response.redirected) {
                    window.location.href = response.url; // Redirect to the login page
                }
            })
            .catch(error => {
                console.error('Error during logout:', error);
                alert('An error occurred while logging out.');
            });
    }

    // Redirect to login if not logged in
    function redirectToLoginIfNotLoggedIn() {
        <% if (!username) { %>
            window.location.href = "/login";
        <% } %>
    }

    function renderAdminPage() {
        window.location.href = "/admin"; // Redirects the user to the /admin page
    }

    function redirectToCart() {
        <% if (!username) { %>
            window.location.href = '/login'; // Redirect to login if not authenticated
        <% } else { %>
            window.location.href = '/cart'; // Redirect to the cart page if logged in
        <% } %>
    }

    // Redirect to login if not logged in
    function redirectToLoginIfNotLoggedIn() {
        <% if (!username) { %>
          window.location.href = "/login";
        <% } %>
    }

    // Redirect to profile or login if not logged in
    function redirectToProfile() {
        <% if (!username) { %>
              window.location.href = '/login'; // Redirect to login if not authenticated
        <% } else { %>
              window.location.href = '/profile'; // Redirect to the profile page if logged in
        <% } %>
    }
</script>
<% 
  function capitalizeFirstLetter(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
  }
%>
</html>