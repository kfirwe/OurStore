<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us</title>
    <link rel="icon" href="/favicon.webp" type="image/webp">
    <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    rel="stylesheet"
    />
    <!-- Get fonts from google API -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS (Optional) and map -->
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
    />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

    <!--Custom page CSS-->
    <link rel="stylesheet" href="/profile.css">
    <link rel="stylesheet" href="/about.css">
</head>
<body>
    <!--Navigation Bar-->
    <header>
        <nav class="headerNav navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand d-flex align-items-center" href="/">
                    <img src="/ByAThread.webp" alt="Logo" />
                    By A Thread
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="/homePage">
                                <i class="fas fa-home fa-lg"></i> Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/">
                                <i class="fas fa-flag fa-lg"></i> Landing Page
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="/about">
                                <i class="fas fa-info-circle fa-lg"></i> About
                            </a>
                        </li>
                        <li class="nav-item position-relative">
                            <a class="nav-link" href="#" onclick="redirectToCart()">
                                <i class="fas fa-shopping-cart fa-lg"></i> Cart
                                <% if (cartItemCount && cartItemCount > 0) { %>
                                <span class="badge badge-danger cart-badge"><%= cartItemCount %></span>
                                <% } %>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="redirectToProfile()">
                                <i class="fas fa-user fa-lg"></i> Profile
                            </a>
                        </li>
                        <% if (!username) { %>
                        <li class="nav-item">
                            <a class="nav-link" href="/login">
                                <i class="fas fa-sign-in-alt fa-lg"></i> Login
                            </a>
                        </li>
                        <% } else { %>
                        <li class="nav-item">
                            <a class="nav-link" href="javascript:void(0);" onclick="handleLogout()">
                                <i class="fas fa-sign-out-alt fa-lg"></i> Logout
                            </a>
                        </li>
                        <% } %>
                        <% if (isAdmin) { %>
                        <li class="nav-item">
                            <a class="nav-link" onclick="renderAdminPage()">
                                <i class="fas fa-tools fa-lg"></i> Admin tools
                            </a>
                        </li>
                        <% } %>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <!--Profile page objects-->  
    </br>
    <div class="aboutUs">
        
        <div class="row information">
            <h1>About Us üíô </h1>
            <div class="col-sm-3">
                <img src="/logo.png">
            </div>
            <div class="col-sm-9">
                <h3>Weaving Style and Technology Together</h3>

                <h4>In By A Thread, we are working our hardest to bring you the most cutting-edge clothing.</h4>
                <h4>Each designed to make you feel like the best version of yourself.</h4>
                <h6>No need to look further - By A Thread will present you with what you did not even realize you need.</h6>
            </div>
        </div>
        <div class="row">
            <div class="insight">
                <h4>Fast Delivery</h4>
                <p>No need to delay your satisfaction, buy today and wear tomorrow.</p>

                <h4>Wide Variety</h4>
                <p>New products from all around the globe and from a variety of companies.</p>

                <h4>High Quality</h4>
                <p>All of our clothes are made from high quality materials ensuring they can be worn for a long time.</p>
                <p>Apart from the materials our designs are made to complement all different sizes and uses - work, travel, exercise and anything else you desire.</p>

                <h4>Sustainability</h4>
                <p>We care about our environment and for that reason we are trying to influence the environment for the better,</p>
                <p>By making sure our clothes can last you a long time and by using high quality sustainable materials.</p>
                
                <h4>Most importantly we care about you! We want you to feel like the most confident version of yourself and leave our site craving for more!</h4>
            </div>
            <div class="ourTeam">
                <h2>Our Team üë®‚Äçüë©‚Äçüëß‚Äçüëß</h2></br>
                <img src="roy.jpg">
                <img src="ofek.jpg">
                <img src="kfir.jpg">
                <img src="amit.jpg">
            </div>
            <div>
                <h4>By A Thread was established in 2024 by Roy Edri, Ofek Naim, Kfir Weissman and Amit Avisar</h4>
                <p>All of the site's founders are computer science undergraduates who established this site in persuit of their passion to elevate people to be the best version of themselves inside and out.</p>
                <p>Our agenda is to provide people with joy by making their closets more fun and vibrant in addition to allowing them to express themselves by their clothes and feel more confident.</p>
                <p>We hope that you will leave our site feeling better than you came in, every decision made in designing this site was made to make your expirience more enjoyable</p>
            </div>
        </div>    
        <div class="twitter-section">
            <h4>
              <a href="https://x.com/OurStore_israel" target="_blank" style="text-decoration: none; color: rgb(88, 143, 216);">
                <i class="fab fa-twitter"></i> Check Our Twitter!
              </a>
            </h4> 
            <div id="map"></div>
          </div>
                  
    </div>
    <!--Add footer-->
    <%- include("_footer") %>
</body>
<script>
    document.addEventListener('DOMContentLoaded', function() {
    var map = L.map('map').setView([32.0853, 34.7818], 13); // Tel Aviv coordinates

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '¬© OpenStreetMap contributors'
    }).addTo(map);

    // Add a marker at the Tel Aviv coordinates
    var marker = L.marker([32.0853, 34.7850]).addTo(map)
      .bindPopup('<b>Our Location in Tel Aviv!</b>').openPopup();
});

    // Logout function
    function handleLogout() {
        fetch('/logout', {
            method: 'GET',
            credentials: 'same-origin'
        })
            .then(response => {
                if (response.redirected) {
                    window.location.href = response.url; // Redirect to the login page
                }
            })
            .catch(error => {
                console.error('Error during logout:', error);
                alert('An error occurred while logging out.');
            });
    }

    // Redirect to login if not logged in
    function redirectToLoginIfNotLoggedIn() {
        <% if (!username) { %>
            window.location.href = "/login";
        <% } %>
    }

    function renderAdminPage() {
        window.location.href = "/admin"; // Redirects the user to the /admin page
    }

    function redirectToCart() {
        <% if (!username) { %>
            window.location.href = '/login'; // Redirect to login if not authenticated
        <% } else { %>
            window.location.href = '/cart'; // Redirect to the cart page if logged in
        <% } %>
    }

    // Redirect to login if not logged in
    function redirectToLoginIfNotLoggedIn() {
        <% if (!username) { %>
          window.location.href = "/login";
        <% } %>
    }

    // Redirect to profile or login if not logged in
    function redirectToProfile() {
        <% if (!username) { %>
              window.location.href = '/login'; // Redirect to login if not authenticated
        <% } else { %>
              window.location.href = '/profile'; // Redirect to the profile page if logged in
        <% } %>
    }
</script>
</html>